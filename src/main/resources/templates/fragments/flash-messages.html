<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>
<!-- Flash messages fragment -->
<div th:fragment="flash">

    <!-- Success message -->
    <div th:if="${message}" class="flash-message success" th:text="#{${message}}"></div>

    <!-- Error message -->
    <div th:if="${error}" class="flash-message error" th:text="#{${error}}"></div>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const messages = document.querySelectorAll('.flash-message');
            messages.forEach((msg, index) => {
                msg.style.top = `${20 + index * 60}px`; // stack if multiple

                setTimeout(() => {
                    msg.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    msg.style.opacity = '0';
                    msg.style.transform = 'translateX(100%)';
                    setTimeout(() => msg.remove(), 500);
                }, 3000);
            });
        });
    </script>

</div>
</body>
</html>
